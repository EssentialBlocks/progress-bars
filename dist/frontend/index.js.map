{"version":3,"file":"dist/frontend/index.js","mappings":"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","sources":["webpack://progress-bars/./src/frontend.js"],"sourcesContent":["const isInViewport = function (elem) {\n\tvar distance = elem.getBoundingClientRect();\n\treturn (\n\t\tdistance.top >= 0 &&\n\t\tdistance.left >= 0 &&\n\t\tdistance.bottom <=\n\t\t\t(window.innerHeight || document.documentElement.clientHeight) &&\n\t\tdistance.right <=\n\t\t\t(window.innerWidth || document.documentElement.clientWidth)\n\t);\n};\n\nconst animate = function ({ duration, draw, timing }) {\n\tlet start = performance.now();\n\n\trequestAnimationFrame(function animate(time) {\n\t\tlet timeFraction = (time - start) / duration;\n\t\tif (timeFraction > 1) timeFraction = 1;\n\n\t\tlet progress = timing(timeFraction);\n\n\t\tdraw(progress);\n\n\t\tif (timeFraction < 1) {\n\t\t\trequestAnimationFrame(animate);\n\t\t}\n\t});\n};\n\nwindow.addEventListener(\"DOMContentLoaded\", function (event) {\n\tvar progressbars = document.querySelectorAll(\".eb-progressbar\");\n\tif (!progressbars) return;\n\n\t// function 'debounce' is used here for better performance when scroll event fires\n\tfunction debounce(func) {\n\t\tvar wait =\n\t\t\targuments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n\t\tvar immediate =\n\t\t\targuments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\t\tvar timeout;\n\t\treturn function () {\n\t\t\tvar context = this,\n\t\t\t\targs = arguments;\n\n\t\t\tfunction later() {\n\t\t\t\ttimeout = null;\n\t\t\t\tif (!immediate) func.apply(context, args);\n\t\t\t}\n\n\t\t\tvar callNow = immediate && !timeout;\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(later, wait);\n\t\t\tif (callNow) func.apply(context, args);\n\t\t};\n\t}\n\n\tprogressbars.forEach(function (progressbar) {\n\t\tvar showedElement = false;\n\t\tvar layout = progressbar.getAttribute(\"data-layout\");\n\t\tvar count = progressbar.getAttribute(\"data-count\");\n\t\tvar duration = progressbar.getAttribute(\"data-duration\");\n\n\t\tfunction handleAnimationOnScroll() {\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (!showedElement && isInViewport(progressbar)) {\n\t\t\t\t\tanimate({\n\t\t\t\t\t\tduration: duration,\n\t\t\t\t\t\ttiming: function (timeFraction) {\n\t\t\t\t\t\t\treturn timeFraction;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdraw: function (progress) {\n\t\t\t\t\t\t\tvar counter = Math.floor(progress * 100);\n\t\t\t\t\t\t\tif (counter <= count) {\n\t\t\t\t\t\t\t\tif (layout === \"line\" || layout === \"line_rainbow\") {\n\t\t\t\t\t\t\t\t\tprogressbar.querySelector(\n\t\t\t\t\t\t\t\t\t\t\".eb-progressbar-line-fill\"\n\t\t\t\t\t\t\t\t\t).style.width = counter + \"%\";\n\t\t\t\t\t\t\t\t} else if (layout === \"circle\" || layout === \"circle_fill\") {\n\t\t\t\t\t\t\t\t\tvar rotate = counter * 3.6;\n\t\t\t\t\t\t\t\t\tprogressbar.querySelector(\n\t\t\t\t\t\t\t\t\t\t\".eb-progressbar-circle-half-left\"\n\t\t\t\t\t\t\t\t\t).style.transform = \"rotate(\" + rotate + \"deg)\";\n\t\t\t\t\t\t\t\t\tif (rotate > 180) {\n\t\t\t\t\t\t\t\t\t\tprogressbar.querySelector(\n\t\t\t\t\t\t\t\t\t\t\t\".eb-progressbar-circle-pie\"\n\t\t\t\t\t\t\t\t\t\t).style.clipPath = \"inset(0)\";\n\t\t\t\t\t\t\t\t\t\tprogressbar.querySelector(\n\t\t\t\t\t\t\t\t\t\t\t\".eb-progressbar-circle-half-right\"\n\t\t\t\t\t\t\t\t\t\t).style.visibility = \"visible\";\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\tlayout === \"half_circle\" ||\n\t\t\t\t\t\t\t\t\tlayout === \"half_circle_fill\"\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tvar rotate = counter * 1.8;\n\t\t\t\t\t\t\t\t\tprogressbar.querySelector(\n\t\t\t\t\t\t\t\t\t\t\".eb-progressbar-circle-half\"\n\t\t\t\t\t\t\t\t\t).style.transform = \"rotate(\" + rotate + \"deg)\";\n\t\t\t\t\t\t\t\t} else if (layout === \"box\") {\n\t\t\t\t\t\t\t\t\tprogressbar.querySelector(\n\t\t\t\t\t\t\t\t\t\t\".eb-progressbar-box-fill\"\n\t\t\t\t\t\t\t\t\t).style.height = counter + \"%\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (progressbar.querySelector(\".eb-progressbar-count\")) {\n\t\t\t\t\t\t\t\t\tprogressbar.querySelector(\".eb-progressbar-count\").innerText =\n\t\t\t\t\t\t\t\t\t\tcounter;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tshowedElement = true;\n\t\t\t\t}\n\t\t\t}, 20);\n\t\t}\n\n\t\tif (isInViewport(progressbar)) {\n\t\t\thandleAnimationOnScroll();\n\t\t}\n\n\t\twindow.addEventListener(\"scroll\", debounce(handleAnimationOnScroll));\n\t});\n});\n"],"names":["isInViewport","elem","distance","getBoundingClientRect","top","left","bottom","window","innerHeight","document","documentElement","clientHeight","right","innerWidth","clientWidth","animate","duration","draw","timing","start","performance","now","requestAnimationFrame","time","timeFraction","progress","addEventListener","event","progressbars","querySelectorAll","debounce","func","wait","arguments","length","undefined","immediate","timeout","context","args","later","apply","callNow","clearTimeout","setTimeout","forEach","progressbar","showedElement","layout","getAttribute","count","handleAnimationOnScroll","counter","Math","floor","querySelector","style","width","rotate","transform","clipPath","visibility","height","innerText"],"sourceRoot":""}